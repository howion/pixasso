/*!
 * pixasso - v1.0.0 - 2018-07-01
 * https://github.com/howion/pixasso
 *
 * Copyright (c) 2018
 * Licensed under the MIT license */
var pixasso={colorPickMode:Object.freeze({FirstColor:0,JointColor:1}),determineColor:function(t,e){switch(e){case this.colorPickMode.FirstColor:return[t[0],t[1],t[2]];case this.colorPickMode.JointColor:var o,r=[t[0],t[1],t[2]];for(o=4;o<t.length;o+=4)r[0]=Math.floor((r[0]+t[o+0])/2),r[1]=Math.floor((r[1]+t[o+1])/2),r[2]=Math.floor((r[2]+t[o+2])/2);return r}},createPixelArt:function(t,e,o,r){e<1&&(e=1),o<1&&(o=1);var a=document.createElement("canvas"),i=t.width,l=t.height;a.width=i,a.height=l,a.getContext("2d").drawImage(t,0,0,i,l);var c=document.createElement("canvas");c.width=Math.floor(i/e)*o,c.height=Math.floor(l/e)*o;var n,h,d,s,f,g=c.getContext("2d"),m=a.getContext("2d");for(n=0,d=0;n<=i;n+=e){for(h=0,s=0;h<=l;h+=e)f=this.determineColor(m.getImageData(n,h,e,e).data,r),g.fillStyle="#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1),g.fillRect(d,s,o,o),s+=o;d+=o}var C=document.createElement("img");return C.src=c.toDataURL(),C}};
